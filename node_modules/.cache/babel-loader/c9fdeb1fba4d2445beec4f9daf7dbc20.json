{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Francisco\\\\Documents\\\\Libros\\\\Books\\\\uncover-index-2\\\\Libros2\\\\src\\\\components\\\\add-book.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport Multiselect from 'react-widgets/lib/Multiselect';\nimport \"react-datepicker/dist/react-datepicker.css\";\nexport default class AddBook extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeAuthor = this.onChangeAuthor.bind(this);\n    this.onChangeURL = this.onChangeURL.bind(this);\n    this.onChangeISBN = this.onChangeISBN.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onChangeSinopsis = this.onChangeSinopsis.bind(this);\n    this.onChangeCategories = this.onChangeCategories.bind(this);\n    this.delCategories = this.delCategories.bind(this);\n    this.onChangeTags = this.onChangeTags.bind(this);\n    this.onChangeSeries = this.onChangeSeries.bind(this);\n    this.onChangeDummy = this.onChangeDummy.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      title: \"\",\n      author: \"\",\n      url: \"\",\n      isbn: \"\",\n      date: new Date(),\n      sinopsis: \"\",\n      categories: [],\n      dummyCat: \"\",\n      optionCategories: [],\n      tags: \"\",\n      series: \"\"\n    };\n  }\n\n  componentDidMount() {\n    //Cuando tenga BD de Categorias tengo que hacer un get aqui.\n    var arre = [\"1\", \"2\", \"3\", \"4\", \"5\"];\n    this.setState({\n      optionCategories: arre,\n      dummyCat: arre[0]\n    });\n    /*\r\n    axios.get('http://localhost:5000/users/')\r\n        .then(response => {\r\n            if (response.data.length > 0){\r\n                \r\n                  this.setState({\r\n                    categories: response.data.map(user => user.username),\r\n                    username: response.data[0].username \r\n                }); \r\n      \r\n            }\r\n        });\r\n        */\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeDummy(e) {\n    this.setState({\n      dummyCat: e.target.value\n    });\n  }\n\n  onChangeAuthor(e) {\n    this.setState({\n      author: e.target.value\n    });\n  }\n\n  onChangeURL(e) {\n    this.setState({\n      url: e.target.value\n    });\n  }\n\n  onChangeISBN(e) {\n    this.setState({\n      isbn: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n\n  onChangeSinopsis(e) {\n    this.setState({\n      sinopsis: e.target.value\n    });\n  }\n\n  onChangeCategories(e) {\n    e.preventDefault();\n    this.setState({\n      categories: this.state.categories.concat([this.state.dummyCat])\n    });\n    document.getElementById(\"categorias\").innerHTML = document.getElementById(\"categorias\").innerHTML + \" \" + this.state.dummyCat;\n    console.log(this.state.categories);\n  }\n\n  delCategories(e) {\n    e.preventDefault();\n    var auxArre = this.state.categories;\n    var index = auxArre.indexOf(String(this.state.dummyCat));\n    auxArre.splice(index, 1);\n\n    if (index !== -1) {\n      this.setState({\n        categories: auxArre\n      });\n    }\n\n    document.getElementById(\"categoriasQuit\").innerHTML = document.getElementById(\"categoriasQuit\").innerHTML + \" \" + this.state.dummyCat;\n  }\n\n  onChangeTags(e) {\n    this.setState({\n      tags: e.target.value\n    });\n  }\n\n  onChangeSeries(e) {\n    this.setState({\n      series: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    //Previene el comportamiento default del html despues del subbmit.\n    e.preventDefault();\n    const book = {\n      title: this.state.title,\n      author: this.state.author,\n      image: this.state.url,\n      isbn: this.state.isbn,\n      date: this.state.date,\n      sinopsis: this.state.sinopsis,\n      categories: this.state.categories,\n      tags: this.state.tags,\n      series: this.state.series\n    };\n    console.log(book);\n    console.log(typeof book.categories);\n    axios.post('http://localhost:5000/books/add', book).then(res => document.getElementById(\"divError\").innerHTML = res.data).catch(err => document.getElementById(\"divError\").innerHTML = err.data);\n    this.setState({\n      title: \"\",\n      author: \"\",\n      image: \"\",\n      url: \"\",\n      isbn: \"\",\n      date: new Date(),\n      sinopsis: \"\",\n      categories: [],\n      tags: \"\",\n      series: \"\",\n      dummyCat: this.state.optionCategories[0]\n    });\n    document.getElementById(\"categorias\").innerHTML = \"Categorias actuales: \";\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, \"Add Book\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"divError\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, \"Title: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.title,\n      onChange: this.onChangeTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, \"Author: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.author,\n      onChange: this.onChangeAuthor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, \"Series: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.series,\n      onChange: this.onChangeSeries,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, \"Image URL: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.url,\n      onChange: this.onChangeURL,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, \"ISBN: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.isbn,\n      onChange: this.onChangeISBN,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, \"Publication Date: \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.date,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, \"Sinopsis: \"), /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.sinopsis,\n      onChange: this.onChangeSinopsis,\n      rows: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }\n    }, \"Categories: \"), /*#__PURE__*/React.createElement(\"select\", {\n      ref: \"userInput\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.dummyCat,\n      onChange: this.onChangeDummy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, //Esto Saca nuestro arreglo de users en Mongo y\n    //el map nos permite regresar algo para cada elemento en\n    //un arreglo.\n    //para cada usuario se regresa una opcion en el ddl\n    //con el nombre de cada usuario en el arreglo\n    this.state.optionCategories.map(function (option) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: option,\n        value: option,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 36\n        }\n      }, option);\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onChangeCategories,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, \"Add Category!\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.delCategories,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }, \"Delete Category\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"categorias\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, \"Categorias atuales: \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"categoriasQuit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, \"Categorias quitadas: \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    }, \"Tags: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.tags,\n      onChange: this.onChangeTags,\n      placeholder: \"['Space' , 'Space Travel' , 'Mars' , ...]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create User\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 21\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Francisco/Documents/Libros/Books/uncover-index-2/Libros2/src/components/add-book.component.js"],"names":["React","Component","axios","DatePicker","Multiselect","AddBook","constructor","props","onChangeTitle","bind","onChangeAuthor","onChangeURL","onChangeISBN","onChangeDate","onChangeSinopsis","onChangeCategories","delCategories","onChangeTags","onChangeSeries","onChangeDummy","onSubmit","state","title","author","url","isbn","date","Date","sinopsis","categories","dummyCat","optionCategories","tags","series","componentDidMount","arre","setState","e","target","value","preventDefault","concat","document","getElementById","innerHTML","console","log","auxArre","index","indexOf","String","splice","book","image","post","then","res","data","catch","err","render","map","option"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport DatePicker from 'react-datepicker';\r\nimport Multiselect from 'react-widgets/lib/Multiselect'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nexport default class AddBook extends Component {\r\n    \r\n    constructor(props){ \r\n        super(props);\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeAuthor = this.onChangeAuthor.bind(this);\r\n        this.onChangeURL = this.onChangeURL.bind(this);\r\n        this.onChangeISBN = this.onChangeISBN.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onChangeSinopsis = this.onChangeSinopsis.bind(this);\r\n        this.onChangeCategories = this.onChangeCategories.bind(this);\r\n        this.delCategories = this.delCategories.bind(this);\r\n        this.onChangeTags = this.onChangeTags.bind(this);\r\n        this.onChangeSeries = this.onChangeSeries.bind(this);\r\n        this.onChangeDummy = this.onChangeDummy.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        \r\n        this.state = {\r\n            title: \"\",\r\n            author: \"\",\r\n            url: \"\",\r\n            isbn: \"\",\r\n            date: new Date(),\r\n            sinopsis: \"\",\r\n            categories: [],\r\n            dummyCat:\"\",\r\n            optionCategories: [],\r\n            tags: \"\",\r\n            series: \"\"\r\n        }\r\n    };\r\n    componentDidMount(){\r\n        //Cuando tenga BD de Categorias tengo que hacer un get aqui.\r\n        var arre = [\"1\",\"2\",\"3\",\"4\",\"5\"]\r\n        this.setState({\r\n            optionCategories: arre, \r\n            dummyCat: arre[0]\r\n        });\r\n        \r\n        /*\r\n        axios.get('http://localhost:5000/users/')\r\n            .then(response => {\r\n                if (response.data.length > 0){\r\n                    \r\n\r\n                    this.setState({\r\n                        categories: response.data.map(user => user.username),\r\n                        username: response.data[0].username \r\n                    }); \r\n          \r\n                }\r\n            });\r\n            */\r\n    }\r\n\r\n    onChangeTitle(e){\r\n        this.setState({\r\n            title: e.target.value\r\n        });\r\n    };\r\n    onChangeDummy(e){\r\n        this.setState({\r\n            dummyCat: e.target.value\r\n        });\r\n    };\r\n    onChangeAuthor(e){\r\n        this.setState({\r\n            author: e.target.value\r\n        });\r\n    };\r\n    onChangeURL(e){\r\n        this.setState({\r\n            url: e.target.value\r\n        });\r\n    };\r\n    onChangeISBN(e){\r\n        this.setState({\r\n            isbn: e.target.value\r\n        });\r\n    };\r\n    onChangeDate(date){\r\n        this.setState({\r\n            date: date\r\n        });\r\n        \r\n    };\r\n    onChangeSinopsis(e){\r\n        this.setState({\r\n            sinopsis: e.target.value\r\n        });\r\n    };\r\n    onChangeCategories(e){\r\n        e.preventDefault();\r\n        this.setState({\r\n            categories: this.state.categories.concat([this.state.dummyCat])\r\n        });\r\n        document.getElementById(\"categorias\").innerHTML = document.getElementById(\"categorias\").innerHTML + \" \" + this.state.dummyCat\r\n        console.log(this.state.categories)\r\n    };\r\n\r\n    delCategories(e){\r\n        e.preventDefault();\r\n        var auxArre = this.state.categories\r\n        var index = auxArre.indexOf(String(this.state.dummyCat));\r\n        auxArre.splice(index, 1);\r\n        if(index !== -1){\r\n            this.setState({categories: auxArre});\r\n        }\r\n        document.getElementById(\"categoriasQuit\").innerHTML = document.getElementById(\"categoriasQuit\").innerHTML + \" \" + this.state.dummyCat\r\n    };\r\n    onChangeTags(e){\r\n        this.setState({\r\n            tags: e.target.value\r\n        });\r\n    };\r\n    onChangeSeries(e){\r\n        this.setState({\r\n            series: e.target.value\r\n        });\r\n    };\r\n        \r\n    onSubmit(e){\r\n        //Previene el comportamiento default del html despues del subbmit.\r\n        e.preventDefault();\r\n        const book = {\r\n            title: this.state.title,\r\n            author: this.state.author,\r\n            image:  this.state.url,\r\n            isbn:  this.state.isbn,\r\n            date:  this.state.date,\r\n            sinopsis:  this.state.sinopsis,\r\n            categories: this.state.categories,\r\n            tags:  this.state.tags,\r\n            series:  this.state.series   \r\n        }\r\n        console.log(book)\r\n        console.log(typeof book.categories)\r\n        \r\n        axios.post('http://localhost:5000/books/add',book)\r\n            .then(res => document.getElementById(\"divError\").innerHTML = res.data)\r\n            .catch(err => document.getElementById(\"divError\").innerHTML = err.data);\r\n        this.setState({\r\n            title: \"\",\r\n            author: \"\",\r\n            image:  \"\",\r\n            url: \"\",\r\n            isbn:  \"\",\r\n            date:  new Date(), \r\n            sinopsis:  \"\",\r\n            categories: [],\r\n            tags:  \"\",\r\n            series:  \"\" ,\r\n            dummyCat: this.state.optionCategories[0] \r\n            \r\n        });\r\n        document.getElementById(\"categorias\").innerHTML = \"Categorias actuales: \"\r\n    };\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className = \"container\">\r\n        <h3>Add Book</h3>\r\n        <div id = \"divError\"></div>\r\n            <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\"> \r\n                    <label>Title: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.title}\r\n                        onChange={this.onChangeTitle}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Author: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.author}\r\n                        onChange={this.onChangeAuthor}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Series: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.series}\r\n                        onChange={this.onChangeSeries}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Image URL: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.url}\r\n                        onChange={this.onChangeURL}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>ISBN: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.isbn}\r\n                        onChange={this.onChangeISBN}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Publication Date: </label>\r\n                    <br/>\r\n                    <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Sinopsis: </label>\r\n                    <textarea type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.sinopsis}\r\n                        onChange={this.onChangeSinopsis}\r\n                        rows=\"5\"\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                <label>Categories: </label>\r\n                    <select ref=\"userInput\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.dummyCat}\r\n                        onChange = {this.onChangeDummy}>\r\n                        {\r\n                        //Esto Saca nuestro arreglo de users en Mongo y\r\n                        //el map nos permite regresar algo para cada elemento en\r\n                        //un arreglo.\r\n\r\n                        //para cada usuario se regresa una opcion en el ddl\r\n                        //con el nombre de cada usuario en el arreglo\r\n                        this.state.optionCategories.map(function(option) {\r\n                            return <option  key={option} value={option}>\r\n                                {option}\r\n                            </option>;\r\n                        })\r\n                        }\r\n                    </select>\r\n                    <br />\r\n                    <button onClick = {this.onChangeCategories}>Add Category!</button>\r\n                    <button onClick = {this.delCategories}>Delete Category</button>\r\n                </div>\r\n                <div id = \"categorias\">Categorias atuales: </div>\r\n                <br />\r\n                <div id = \"categoriasQuit\">Categorias quitadas: </div>\r\n                <br />\r\n                <br />\r\n                <div className=\"form-group\"> \r\n                    <label>Tags: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.tags}\r\n                        onChange={this.onChangeTags}\r\n                        placeholder=\"['Space' , 'Space Travel' , 'Mars' , ...]\"\r\n                    >\r\n                        </input>    \r\n                     \r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Create User\" className=\"btn btn-primary\" />\r\n                </div>\r\n            </form>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}